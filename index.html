<!DOCTYPE html>
<html lang="UTF-8">

<head>
  <meta charset="UTF-8" />
  <title>나만의 할 일 목록</title>
  <link rel="stylesheet" href="src/styles/style.css" />
  <link rel="stylesheet" href="src/styles/popup.css" />
  <link rel="stylesheet" href="src/styles/mediaquery.css" />
  <script type="module" src="src/action/index.js" defer></script>
</head>

<body>
  <header>
    <h1>나만의 할 일 목록</h1>
    <div>
      <button id="themeToggleBtn" class="theme-toggle">🌙 다크모드로 전환</button>
      <button class="hamburger" onclick="import('./src/action/ui.js').then(m => m.toggleMobileToolbar())">☰</button>
    </div>
  </header>

  <nav id="mobile-toolbar"></nav>

  <div class="wrapper">
    <aside>
      <button id="openBtn">작성하기</button>
      <button id="sortBtn">우선순위 정렬</button>
      <button id="dateSortBtn">날짜순 정렬</button>

      <label for="filterSelect">모아보기</label>
      <select id="filterSelect">
        <option value="전체">전체</option>
        <option value="진행중">진행중</option>
        <option value="완료">완료</option>
      </select>

      <button class="danger-button" onclick="import('./src/action/ui.js').then(m => m.deleteSelectedTodos())">
        선택 항목 삭제
      </button>
    </aside>

    <main>
      <button id="openBtn" style="display: none;">작성하기</button>
      <ul id="todoList"></ul>
    </main>
  </div>

  <dialog id="todoDialog">
    <form method="dialog" id="todoForm">
      <input type="hidden" id="editIndex" />
      <label for="content">내용:</label><br />
      <textarea id="content" required rows="4" placeholder="할 일을 입력하세요"></textarea><br />
      <label>마감일: <input type="date" id="dueDate" /></label><br />
      <label>
        시간:
        <input type="number" id="hour" min="1" max="12" />
        <input type="number" id="minute" min="0" max="59" />
        <select id="ampm">
          <option>AM</option>
          <option>PM</option>
        </select>
      </label><br />
      <label>우선순위:
        <select id="priority">
          <option>높음</option>
          <option selected>기본</option>
          <option>낮음</option>
        </select>
      </label><br />
      <menu>
        <button type="submit">저장</button>
        <button type="button" id="cancelBtn">취소</button>
      </menu>
    </form>
  </dialog>

  <template id="todoTemplate">
    <li class="todo-item narrow">
      <div class="todo-top">
        <input type="checkbox" class="todo-check" />
        <div class="todo-buttons">
          <button class="edit-btn" type="button" data-index="">✏️</button>
          <button class="delete-btn" type="button">🗑️</button>
        </div>
      </div>
      <div class="todo-title"></div>
      <div class="todo-details"></div>
    </li>
  </template>

  <footer class="footer-bar">
    1단계: 기능 강화 '나만의 할 일 목록' 앱 (HTML5, CSS3, localStorage, Vanilla JS)
  </footer>
</body>

</html>